(()=>{var t={219:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},510:(t,e,s)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TvmException=e.Contract=void 0;const n=s(851);e.Contract=class{constructor(t,e,s){if(!Array.isArray(e.functions))throw new Error("Invalid abi. Functions array required");if(!Array.isArray(e.events))throw new Error("Invalid abi. Events array required");this._provider=t,this._abi=JSON.stringify(e),this._functions=e.functions.reduce(((t,e)=>(t[e.name]={inputs:e.inputs||[],outputs:e.outputs||[]},t)),{}),this._events=e.events.reduce(((t,e)=>(t[e.name]={inputs:e.inputs||[]},t)),{}),this._address=s;class r{constructor(t,e,s,i,r,a){this.provider=t,this.functionAbi=e,this.abi=s,this.address=i,this.method=r,this.params=(0,n.serializeTokensObject)(a)}async send(t){const{transaction:e}=await this.provider.rawApi.sendMessage({sender:t.from.toString(),recipient:this.address.toString(),amount:t.amount,bounce:null==t.bounce||t.bounce,payload:{abi:this.abi,method:this.method,params:this.params}});return(0,n.parseTransaction)(e)}async sendWithResult(t){const e=this.provider.createSubscriber();try{let s,i;const r=new Promise((t=>{i=e=>t(e)})),a=[];e.transactions(this.address).flatMap((t=>t.transactions)).filter((e=>{var s;return(null===(s=e.inMessage.src)||void 0===s?void 0:s.equals(t.from))||!1})).on((t=>{null==s?a.push(t):s.possibleMessages.findIndex((e=>e.hash==t.inMessage.hash))>=0&&(null==i||i(t))}));const o=await this.send(t),c=o.outMessages.filter((t=>{var e;return(null===(e=t.dst)||void 0===e?void 0:e.equals(this.address))||!1}));s={transaction:o,possibleMessages:c};const u=a.find((t=>c.findIndex((e=>e.hash==t.inMessage.hash))>=0));null!=u&&(null==i||i(u));const d=await r;let p;try{const t=await this.provider.rawApi.decodeTransaction({transaction:(0,n.serializeTransaction)(d),abi:this.abi,method:this.method});null!=t&&(p=null!=this.functionAbi.outputs?(0,n.parseTokensObject)(this.functionAbi.outputs,t.output):{})}catch(t){console.error(t)}return{parentTransaction:s.transaction,childTransaction:d,output:p}}finally{await e.unsubscribe()}}async estimateFees(t){const{fees:e}=await this.provider.rawApi.estimateFees({sender:t.from.toString(),recipient:this.address.toString(),amount:t.amount,payload:{abi:this.abi,method:this.method,params:this.params}});return e}async sendExternal(t){let e=!0===t.withoutSignature?this.provider.rawApi.sendUnsignedExternalMessage:this.provider.rawApi.sendExternalMessage,{transaction:s,output:i}=await e({publicKey:t.publicKey,recipient:this.address.toString(),stateInit:t.stateInit,payload:{abi:this.abi,method:this.method,params:this.params},local:t.local});return{transaction:(0,n.parseTransaction)(s),output:null!=i?(0,n.parseTokensObject)(this.functionAbi.outputs,i):void 0}}async call(t={}){let{output:e,code:s}=await this.provider.rawApi.runLocal({address:this.address.toString(),cachedState:t.cachedState,responsible:t.responsible,functionCall:{abi:this.abi,method:this.method,params:this.params}});if(null==e||0!=s)throw new i(s);return(0,n.parseTokensObject)(this.functionAbi.outputs,e)}}this._methods=new Proxy({},{get:(t,e)=>{const s=this._functions[e];return t=>new r(this._provider,s,this._abi,this._address,e,t)}})}get methods(){return this._methods}get address(){return this._address}get abi(){return this._abi}async decodeTransaction(t){try{const e=await this._provider.rawApi.decodeTransaction({transaction:(0,n.serializeTransaction)(t.transaction),abi:this._abi,method:t.methods});if(null==e)return;let{method:s,input:i,output:r}=e;const a=this._functions[s];return{method:s,input:null!=a.inputs?(0,n.parseTokensObject)(a.inputs,i):{},output:null!=a.outputs?(0,n.parseTokensObject)(a.outputs,r):{}}}catch(t){return}}async decodeTransactionEvents(t){try{const{events:e}=await this._provider.rawApi.decodeTransactionEvents({transaction:(0,n.serializeTransaction)(t.transaction),abi:this._abi}),s=[];for(const{event:t,data:i}of e){const e=this._events[t];s.push({event:t,data:null!=e.inputs?(0,n.parseTokensObject)(e.inputs,i):{}})}return s}catch(t){return[]}}async decodeInputMessage(t){try{const e=await this._provider.rawApi.decodeInput({abi:this._abi,body:t.body,internal:t.internal,method:t.methods});if(null==e)return;let{method:s,input:i}=e;const r=this._functions[s];return{method:s,input:null!=r.inputs?(0,n.parseTokensObject)(r.inputs,i):{}}}catch(t){return}}async decodeOutputMessage(t){try{const e=await this._provider.rawApi.decodeOutput({abi:this._abi,body:t.body,method:t.methods});if(null==e)return;let{method:s,output:i}=e;const r=this._functions[s];return{method:s,output:null!=r.outputs?(0,n.parseTokensObject)(r.outputs,i):{}}}catch(t){return}}};class i extends Error{constructor(t){super(`TvmException: ${t}`),this.code=t}}e.TvmException=i},511:function(t,e,s){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,s,n){void 0===n&&(n=s),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[s]}})}:function(t,e,s,n){void 0===n&&(n=s),t[n]=e[s]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var s in t)"default"!==s&&Object.prototype.hasOwnProperty.call(t,s)&&n(e,t,s);return i(e,t),e},a=this&&this.__exportStar||function(t,e){for(var s in t)"default"===s||Object.prototype.hasOwnProperty.call(e,s)||n(e,t,s)};Object.defineProperty(e,"__esModule",{value:!0}),e.ProviderNotInitializedException=e.ProviderNotFoundException=e.ProviderRpcClient=e.hasEverscaleProvider=e.mergeTransactions=e.AddressLiteral=e.Address=e.Subscriber=void 0;const o=s(851),c=s(786),u=r(s(25)),d=r(s(510));a(s(219),e),a(s(851),e),a(s(510),e);var p=s(25);Object.defineProperty(e,"Subscriber",{enumerable:!0,get:function(){return p.Subscriber}});var l=s(786);let h;async function m(){return await h,!0===window.__hasEverscaleProvider||!0===window.hasTonProvider}Object.defineProperty(e,"Address",{enumerable:!0,get:function(){return l.Address}}),Object.defineProperty(e,"AddressLiteral",{enumerable:!0,get:function(){return l.AddressLiteral}}),Object.defineProperty(e,"mergeTransactions",{enumerable:!0,get:function(){return l.mergeTransactions}}),h="complete"==document.readyState?Promise.resolve():new Promise((t=>{window.addEventListener("load",(()=>{t()}))})),e.hasEverscaleProvider=m,e.ProviderRpcClient=class{constructor(t={}){this._subscriptions={},this._contractSubscriptions={};const e=this;class s extends d.Contract{constructor(t,s){super(e,t,s)}}this.Contract=s;class n extends u.Subscriber{constructor(){super(e)}}this.Subscriber=n,this._properties=t,this._api=new Proxy({},{get:(t,e)=>t=>{if(null!=this._provider)return this._provider.request({method:e,params:t});throw new y}}),this._provider=window.__ever||window.ton,null!=this._provider?this._mainInitializationPromise=Promise.resolve():this._mainInitializationPromise=m().then((t=>new Promise(((e,s)=>{if(t)if(this._provider=window.__ever||window.ton,null!=this._provider)e();else{const t=!0===window.__hasEverscaleProvider?"ever#initialized":"ton#initialized";window.addEventListener(t,(t=>{this._provider=window.__ever||window.ton,e()}))}else s(new b)})))),this._mainInitializationPromise.then((()=>{null!=this._provider&&this._registerEventHandlers(this._provider)}))}async hasProvider(){return m()}async ensureInitialized(){try{await this._mainInitializationPromise}catch(t){if(null==this._properties.fallback)throw t;null==this._additionalInitializationPromise&&(this._additionalInitializationPromise=this._properties.fallback().then((async t=>{this._provider=t,this._registerEventHandlers(this._provider)}))),await this._additionalInitializationPromise}}get isInitialized(){return null!=this._provider}get raw(){if(null!=this._provider)return this._provider;throw new y}get rawApi(){return this._api}createContract(t,e){return new this.Contract(t,e)}createSubscriber(){return new this.Subscriber}async requestPermissions(t){const e=await this._api.requestPermissions({permissions:t.permissions});return(0,o.parsePermissions)(e)}async changeAccount(){await this._api.changeAccount()}async disconnect(){await this._api.disconnect()}async subscribe(t,e){class s{constructor(t,e){this._subscribe=t,this._unsubscribe=e,this._listeners={data:[],subscribed:[],unsubscribed:[]}}on(t,e){return this._listeners[t].push(e),this}async subscribe(){await this._subscribe(this);for(const t of this._listeners.subscribed)t()}async unsubscribe(){await this._unsubscribe();for(const t of this._listeners.unsubscribed)t()}notify(t){for(const e of this._listeners.data)e(t)}}let n=this._getEventSubscriptions(t);const i=(0,c.getUniqueId)();switch(t){case"connected":case"disconnected":case"networkChanged":case"permissionsChanged":case"loggedOut":{const t=new s((async t=>{null==n[i]&&(n[i]=e=>{t.notify(e)})}),(async()=>{delete n[i]}));return await t.subscribe(),t}case"transactionsFound":case"contractStateChanged":{const r=e.address.toString(),a=new s((async e=>{if(null!=n[i])return;n[i]=t=>{t.address.toString()==r&&e.notify(t)};let s=this._contractSubscriptions[r];null==s&&(s={},this._contractSubscriptions[r]=s),s[i]={state:"contractStateChanged"==t,transactions:"transactionsFound"==t};const{total:a,withoutExcluded:o}=f(Object.values(s),s[i]);try{a.transactions==o.transactions&&a.state==o.state||await this.rawApi.subscribe({address:r,subscriptions:a})}catch(t){throw delete n[i],delete s[i],t}}),(async()=>{delete n[i];const t=this._contractSubscriptions[r];if(null==t)return;const e=t[i],{total:s,withoutExcluded:a}=f(Object.values(t),e);delete t[i],a.transactions||a.state?s.transactions==a.transactions&&s.state==a.state||await this.rawApi.subscribe({address:r,subscriptions:a}):await this.rawApi.unsubscribe({address:r})}));return await a.subscribe(),a}default:throw new Error(`Unknown event ${t}`)}}async getProviderState(){const t=await this._api.getProviderState();return{...t,permissions:(0,o.parsePermissions)(t.permissions)}}async getFullContractState(t){return await this._api.getFullContractState({address:t.address.toString()})}async getAccountsByCodeHash(t){const{accounts:e,continuation:s}=await this._api.getAccountsByCodeHash({...t});return{accounts:e.map((t=>new c.Address(t))),continuation:s}}async getTransactions(t){const{transactions:e,continuation:s,info:n}=await this._api.getTransactions({...t,address:t.address.toString()});return{transactions:e.map(o.parseTransaction),continuation:s,info:n}}async getTransaction(t){const{transaction:e}=await this._api.getTransaction({...t});return{transaction:e?(0,o.parseTransaction)(e):void 0}}async getExpectedAddress(t,e){const{address:s}=await this._api.getExpectedAddress({abi:JSON.stringify(t),...e,initParams:(0,o.serializeTokensObject)(e.initParams)});return new c.Address(s)}async getBocHash(t){return await this._api.getBocHash({boc:t}).then((({hash:t})=>t))}async packIntoCell(t){return await this._api.packIntoCell({structure:t.structure,data:(0,o.serializeTokensObject)(t.data)})}async unpackFromCell(t){const{data:e}=await this._api.unpackFromCell({...t,structure:t.structure});return{data:(0,o.parseTokensObject)(t.structure,e)}}async extractPublicKey(t){const{publicKey:e}=await this._api.extractPublicKey({boc:t});return e}async codeToTvc(t){const{tvc:e}=await this._api.codeToTvc({code:t});return e}async splitTvc(t){return await this._api.splitTvc({tvc:t})}async addAsset(t){let e;if("tip3_token"!==t.type)throw new Error("Unknown asset type");return e={rootContract:t.params.rootContract.toString()},await this._api.addAsset({account:t.account.toString(),type:t.type,params:e})}async verifySignature(t){return await this._api.verifySignature(t)}async signData(t){return await this._api.signData(t)}async signDataRaw(t){return await this._api.signDataRaw(t)}async encryptData(t){const{encryptedData:e}=await this._api.encryptData(t);return e}async decryptData(t){const{data:e}=await this._api.decryptData({encryptedData:t});return e}async sendMessage(t){const{transaction:e}=await this._api.sendMessage({...t,sender:t.sender.toString(),recipient:t.recipient.toString(),payload:t.payload?{abi:t.payload.abi,method:t.payload.method,params:(0,o.serializeTokensObject)(t.payload.params)}:void 0});return{transaction:(0,o.parseTransaction)(e)}}_registerEventHandlers(t){const e={connected:t=>t,disconnected:t=>t,transactionsFound:t=>({address:new c.Address(t.address),transactions:t.transactions.map(o.parseTransaction),info:t.info}),contractStateChanged:t=>({address:new c.Address(t.address),state:t.state}),networkChanged:t=>t,permissionsChanged:t=>({permissions:(0,o.parsePermissions)(t.permissions)}),loggedOut:t=>t};for(const[s,n]of Object.entries(e))t.addListener(s,(t=>{const e=this._subscriptions[s];if(null==e)return;const i=n(t);for(const t of Object.values(e))t(i)}))}_getEventSubscriptions(t){let e=this._subscriptions[t];return null==e&&(e={},this._subscriptions[t]=e),e}};class b extends Error{constructor(){super("Everscale provider was not found")}}e.ProviderNotFoundException=b;class y extends Error{constructor(){super("Everscale provider was not initialized yet")}}function f(t,e){const s={state:!1,transactions:!1},n=Object.assign({},s);for(const i of t){if(n.transactions&&n.state)break;s.state||(s.state=i.state),s.transactions||(s.transactions=i.transactions),i!=e&&(n.state||(n.state=i.state),n.transactions||(n.transactions=i.transactions))}return{total:s,withoutExcluded:n}}e.ProviderNotInitializedException=y},851:(t,e,s)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseTokensObject=e.serializeTokensObject=e.parseAccountInteraction=e.parsePermissions=e.parseMessage=e.serializeMessage=e.parseTransaction=e.serializeTransaction=void 0;const n=s(786);function i(t){return{...t,src:t.src?t.src.toString():void 0,dst:t.dst?t.dst.toString():void 0}}function r(t){return{...t,src:t.src?new n.Address(t.src):void 0,dst:t.dst?new n.Address(t.dst):void 0}}function a(t){return{...t,address:new n.Address(t.address)}}function o(t){if(t instanceof n.Address)return t.toString();if(Array.isArray(t)){const e=[];for(const s of t)e.push(o(s));return e}if(null!=t&&"object"==typeof t){const e={};for(const[s,n]of Object.entries(t))e[s]=o(n);return e}return t}function c(t,e){if(t.type.startsWith("map")){let[s,n]=t.type.split(",");s=s.slice(4),n=n.slice(0,-1);const i=[];for(const[r,a]of e)i.push([c({name:"",type:s},r),c({name:"",type:n,components:t.components},a)]);return i}{const s=t.type.endsWith("[]"),i=!s&&t.type.startsWith("optional"),r=s?t.type.slice(0,-2):i?t.type.slice(9,-1):t.type;if(s){const s={name:t.name,type:r,components:t.components},n=[];for(const t of e)n.push(c(s,t));return n}if(i)return null==e?null:c({name:t.name,type:r,components:t.components},e);if("tuple"==r){const s={};if(null!=t.components)for(const n of t.components)s[n.name]=c(n,e[n.name]);return s}return"address"==r?new n.Address(e):e}}e.serializeTransaction=function(t){return{...t,inMessage:i(t.inMessage),outMessages:t.outMessages.map(i)}},e.parseTransaction=function(t){return{...t,inMessage:r(t.inMessage),outMessages:t.outMessages.map(r)}},e.serializeMessage=i,e.parseMessage=r,e.parsePermissions=function(t){return{...t,accountInteraction:t.accountInteraction?a(t.accountInteraction):void 0}},e.parseAccountInteraction=a,e.serializeTokensObject=function(t){return o(t)},e.parseTokensObject=function(t,e){const s={};for(const n of t)s[n.name]=c(n,e[n.name]);return s}},25:(t,e,s)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Subscriber=void 0;const n=s(786);async function i(t,e){await e(t)}e.Subscriber=class{constructor(t){this.provider=t,this.subscriptions={},this.scanners={}}transactions(t){return this._addSubscription("transactionsFound",t)}oldTransactions(t,e){const s=(0,n.getUniqueId)();return new r((async(n,i)=>{const r=new a(this.provider,{address:t,onData:n,onEnd:i,...e});this.scanners[s]=r,await r.start()}),(async()=>{const t=this.scanners[s];delete this.scanners[s],null!=t&&await t.stop()}),i)}states(t){return this._addSubscription("contractStateChanged",t)}async unsubscribe(){const t=Object.assign({},this.subscriptions);for(const t of Object.keys(this.subscriptions))delete this.subscriptions[t];const e=Object.assign({},this.scanners);for(const t of Object.keys(this.scanners))delete this.scanners[t];await Promise.all(Object.values(t).map((async t=>{const e=Object.assign({},t);for(const s of Object.keys(e))delete t[s];await Promise.all(Object.values(e).map((t=>{if(null!=t)return t.subscription.then((t=>t.unsubscribe())).catch((()=>{}))})))})).concat(Object.values(e).map((t=>t.stop()))))}_addSubscription(t,e){const s=(0,n.getUniqueId)();return new r(((n,i)=>{let r=this.subscriptions[e.toString()],a=null==r?void 0:r[t];if(null==a){const c={[s]:{onData:n,onEnd:i,queue:new o}};a={subscription:this.provider.subscribe(t,{address:e}).then((t=>(t.on("data",(t=>{Object.values(c).forEach((({onData:e,queue:s})=>{s.enqueue((()=>e(t)))}))})),t.on("unsubscribed",(()=>{Object.values(c).forEach((({onEnd:t,queue:e})=>{delete c[s],e.clear(),e.enqueue((async()=>t()))}))})),t))).catch((t=>{throw console.error(t),Object.values(c).forEach((({onEnd:t,queue:e})=>{delete c[s],e.clear(),e.enqueue((()=>t()))})),t})),handlers:c},null==r?(r={[t]:a},this.subscriptions[e.toString()]=r):r[t]=a}else a.handlers[s]={onData:n,onEnd:i,queue:new o}}),(()=>{const n=this.subscriptions[e.toString()];if(null==n)return;const i=n[t];if(null!=i&&(delete i.handlers[s],0===Object.keys(i.handlers).length)){const e=i.subscription;delete n[t],e.then((t=>t.unsubscribe())).catch(console.debug)}0===Object.keys(n).length&&delete this.subscriptions[e.toString()]}),i)}};class r{constructor(t,e,s){this.makeProducer=t,this.stopProducer=e,this.extractor=s}first(){return new Promise((async(t,e)=>{this.makeProducer((async e=>{await this.extractor(e,(e=>{this.stopProducer(),t(e)}))}),(()=>e(new Error("Subscription closed"))))}))}on(t){this.makeProducer((async e=>{await this.extractor(e,t)}),(()=>{}))}merge(t){return new r((async(e,s)=>{const n={counter:0},i=()=>{2==++n.counter&&s()};this.makeProducer(e,i),t.makeProducer(e,i)}),(()=>{this.stopProducer(),t.stopProducer()}),this.extractor)}filter(t){return new r(this.makeProducer,this.stopProducer,((e,s)=>this.extractor(e,(async e=>{await t(e)&&await s(e)}))))}filterMap(t){return new r(this.makeProducer,this.stopProducer,((e,s)=>this.extractor(e,(async e=>{const n=await t(e);void 0!==n&&await s(n)}))))}map(t){return this.filterMap(t)}flatMap(t){return new r(this.makeProducer,this.stopProducer,((e,s)=>this.extractor(e,(async e=>{const n=await t(e);for(const t of n)await s(t)}))))}skip(t){const e={index:0};return new r(this.makeProducer,this.stopProducer,((s,n)=>this.extractor(s,(async s=>{e.index>=t?await n(s):++e.index}))))}skipWhile(t){const e={shouldSkip:!0};return new r(this.makeProducer,this.stopProducer,((s,n)=>this.extractor(s,(async s=>{e.shouldSkip&&await t(s)||(e.shouldSkip=!1,await n(s))}))))}}class a{constructor(t,{address:e,onData:s,onEnd:n,fromLt:i,fromUtime:r}){this.provider=t,this.queue=new o,this.isRunning=!1,this.address=e,this.onData=s,this.onEnd=n,this.fromLt=i,this.fromUtime=r}async start(){this.isRunning||null!=this.promise||(this.isRunning=!0,this.promise=(async()=>{for(;this.isRunning;)try{const{transactions:t,continuation:e}=await this.provider.getTransactions({address:this.address,continuation:this.continuation});if(!this.isRunning||null==t.length)break;const s=t.filter((t=>(null==this.fromLt||t.id.lt>this.fromLt)&&(null==this.fromUtime||t.createdAt>this.fromUtime)));if(0==s.length)break;const n={maxLt:s[0].id.lt,minLt:s[s.length-1].id.lt,batchType:"old"};if(this.queue.enqueue((()=>this.onData({address:this.address,transactions:s,info:n}))),null==e)break;this.continuation=e}catch(t){console.error(t)}this.queue.enqueue((async()=>this.onEnd())),this.isRunning=!1,this.continuation=void 0})())}async stop(){this.isRunning=!1,this.queue.clear(),null!=this.promise?await this.promise:this.onEnd()}}class o{constructor(){this.queue=[],this.workingOnPromise=!1}enqueue(t){this.queue.push(t),this._dequeue().catch((()=>{}))}clear(){this.queue.length=0}async _dequeue(){if(this.workingOnPromise)return;const t=this.queue.shift();t&&(this.workingOnPromise=!0,t().then((()=>{this.workingOnPromise=!1,this._dequeue()})).catch((()=>{this.workingOnPromise=!1,this._dequeue()})))}}},786:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getUniqueId=e.mergeTransactions=e.AddressLiteral=e.Address=void 0;class s{constructor(t){this._address=t}toString(){return this._address}equals(t){return t instanceof s?this._address==t._address:this._address==t}}e.Address=s,e.AddressLiteral=class extends s{constructor(t){super(t)}},e.mergeTransactions=function(t,e,s){if("old"==s.batchType)return t.push(...e),t;if(0===t.length)return t.push(...e),t;let n=0;for(;n<t.length&&t[n].id.lt.localeCompare(s.maxLt)>=0;)++n;return t.splice(n,0,...e),t};const n=4294967295;let i=Math.floor(Math.random()*n);e.getUniqueId=function(){return i=(i+1)%n,i}},551:()=>{}},e={};function s(n){var i=e[n];if(void 0!==i)return i.exports;var r=e[n]={exports:{}};return t[n].call(r.exports,r,r.exports,s),r.exports}(()=>{"use strict";var t=s(511);const e=new t.Address("0:1fc516c17d33014ee5952ada1b18a842d73c69f0ab766ec03f423e45ea25ae88"),n={"ABI version":2,version:"2.2",header:["pubkey","time","expire"],functions:[{name:"constructor",inputs:[{name:"codeIndex",type:"cell"},{name:"codeNft",type:"cell"},{name:"ownerPubkey",type:"uint256"}],outputs:[]},{name:"mintNft",inputs:[],outputs:[]},{name:"mintNftChild",inputs:[{name:"gen",type:"uint16"},{name:"owner",type:"address"}],outputs:[]},{name:"deployIndexBasis",inputs:[{name:"codeIndexBasis",type:"cell"}],outputs:[]},{name:"destructIndexBasis",inputs:[],outputs:[]},{name:"withdraw",inputs:[{name:"to",type:"address"},{name:"value",type:"uint128"}],outputs:[]},{name:"setIndexDeployValue",inputs:[{name:"indexDeployValue",type:"uint128"}],outputs:[]},{name:"setRemainOnNft",inputs:[{name:"remainOnNft",type:"uint128"}],outputs:[]},{name:"setDeployIndexValue",inputs:[{name:"deployIndexValue",type:"uint128"}],outputs:[]},{name:"getIndexDeployValue",inputs:[],outputs:[{name:"value0",type:"uint128"}]},{name:"getRemainOnNft",inputs:[],outputs:[{name:"value0",type:"uint128"}]},{name:"getDeployIndexValue",inputs:[],outputs:[{name:"value0",type:"uint128"}]},{name:"getIndexBasisAddress",inputs:[],outputs:[{name:"value0",type:"address"}]},{name:"getTotalMinted",inputs:[],outputs:[{name:"value0",type:"uint256"}]},{name:"resolveCodeHashIndex",inputs:[{name:"addrRoot",type:"address"},{name:"addrOwner",type:"address"}],outputs:[{name:"codeHashIndex",type:"uint256"}]},{name:"resolveIndex",inputs:[{name:"addrRoot",type:"address"},{name:"addrNft",type:"address"},{name:"addrOwner",type:"address"}],outputs:[{name:"addrIndex",type:"address"}]},{name:"resolveCodeHashNft",inputs:[],outputs:[{name:"codeHashData",type:"uint256"}]},{name:"resolveNft",inputs:[{name:"addrRoot",type:"address"},{name:"id",type:"uint256"}],outputs:[{name:"addrNft",type:"address"}]}],data:[],events:[{name:"TokenWasMinted",inputs:[{name:"nftAddr",type:"address"},{name:"creatorAddr",type:"address"}],outputs:[]}],fields:[{name:"_pubkey",type:"uint256"},{name:"_timestamp",type:"uint64"},{name:"_constructorFlag",type:"bool"},{name:"_codeNft",type:"cell"},{name:"_codeIndex",type:"cell"},{name:"_ownerPubkey",type:"uint256"},{name:"_totalMinted",type:"uint256"},{name:"_addrIndexBasis",type:"address"},{name:"_lastChild",type:"address"},{name:"_indexDeployValue",type:"uint128"},{name:"_remainOnNft",type:"uint128"},{name:"_deployIndexBasisValue",type:"uint128"}]};s(551);const i=new t.ProviderRpcClient;async function r(t){const{codeHashIndex:s}=await ROOT.methods.resolveCodeHashIndex({addrRoot:e,addrOwner:t}).call(),{accounts:n}=await async function(t){const{data:e}=await async function(t="",e={}){return(await fetch(t,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(e)})).json()}("https://net.ton.dev/graphql",{query:t});return e}(`\n        query {\n            accounts\n            (filter : {\n                code_hash :{eq : "${i=s,BigInt(i).toString(16)}"}\n            })\n        {\n            id\n        }}\n    `);var i;return n}window.mintTree=async function(t){await ROOT.methods.mintNft({}).send({from:t,amount:"2000000000",bounce:!1}),console.log("reload")},async function(){if(!await i.hasProvider())throw new Error("Extension is not installed");await i.ensureInitialized();const t=new i.Contract(n,e),{accountInteraction:s}=await i.requestPermissions({permissions:["basic","accountInteraction"]});if(null==s)throw new Error("Insufficient permissions");const a=s.address;window.ROOT=t,window.userAddress=a;const o=await r(a);console.log(o)}().catch(console.error)})()})();